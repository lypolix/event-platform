# Event Platform

**Event Platform — современное веб-приложение для управления событиями, пользователями и подписками на события с использованием Go, GraphQL и MongoDB.**

Платформа предоставляет пользователям возможность создавать собственные события с указанием информации о них, просматривать и искать мероприятия других участников, подписываться на интересные события и пользователей для получения уведомлений о новых активностях. Каждый пользователь может управлять созданными мероприятиями, просматривать участников, а также легко использовать сервис для организации встреч, семинаров или частных встреч, делясь своими событиями с другими.
 
---

## Оглавление

- [Технологии](#технологии)
- [Структура проекта](#структура-проекта)
- [Функциональность](#функциональность)
- [Преимущества](#преимущества)
- [Быстрый старт](#быстрый-старт)
- [Диагностика и отладка](#диагностика-и-отладка)

---

## Технологии

- **Go (Golang):** язык разработки бэкенда.
- **GraphQL (gqlgen):** современный API с queries/mutations/subscriptions.
- **MongoDB:** документно-ориентированная база данных.
- **gqlgen:** генератор кода для GraphQL.
- **Go modules:** управление зависимостями.
- **Docker:** для быстрой разработки и тестирования.
- **Интеграционное тестирование:** проверка надёжности системы и отдельных компонентов.

---

## Структура проекта

```
├── cmd/ # main (точка входа)
├── graph/ # API-слой GraphQL (модели, схемы, резолверы)
│ ├── model/
│ ├── schema.graphqls
│ ├── resolver.go
│ ├── schema.resolvers.go
│ ├── mutation_resolver.go
│ └── query_resolver.go
├── internal/
│ ├── repository/
│ │ ├── user_repository.go
│ │ └── event_repository.go
│ └── service/
│ ├── user_service.go
│ └── event_service.go
├── go.mod
├── go.sum
├── gqlgen.yml
└── README.md
```
---

## Функциональность

- **Регистрация и управление пользователями:** создание, получение, обновление и удаление пользователей.
- **Создание и просмотр событий:** создание и просмотр информации по событиям.
- **Подписки (subscriptions):** возможность следить за новыми событиями и пользователями в реальном времени.
- **Актуальное хранение данных в MongoDB.**
- **GraphQL Playground:** для тестирования и демонстрации API.

---

## Преимущества

- **Масштабируемость:** Go и MongoDB подходят для нагруженных проектов.
- **Современное API:** GraphQL обеспечивает гибкость и удобство для клиентов любого типа.
- **Разделение слоёв:** Чистая архитектура — есть слои repository (доступ к данным) и service (бизнес-логика).
- **Скорость:** Поддержка real-time подписок.

---

## Быстрый старт

### 1. Клонируйте и установите зависимости:
```
git clone https://github.com/your-username/event-platform.git
cd event-platform
go mod tidy
```

### 2. Запустите MongoDB (локально или через Docker):
```
docker run --name event-mongo -p 27017:27017 -d mongo:6
```

### 3. Запустите приложение:
```
go run ./cmd/event-platform
```

Откройте [http://localhost:8080](http://localhost:8080) для работы с GraphQL Playground.

---

## Диагностика и отладка

- **Ошибки и логи** выводятся в консоль (stdout/stderr).
- **Работа с playground:** можно отлаживать запросы и мутации прямо из браузера.
### Примеры GraphQL-запросов для тестирования

#### 1. Создать пользователя
```
mutation {
  createUser(name: "John", email: "john@example.com", password: "secret123") {
    id
    name
    email
  }
}
```

#### 2. Получить всех пользователей
```
query {
  users {
    id
    name
    email
  }
}
```

#### 3. Создать событие
```
mutation {
  createEvent(title: "Test Event", description: "For demo", dateTime: "2025-09-07T12:00:00Z") {
    id
    title
    dateTime
    description
  }
}
```

#### 4. Получить список событий
```
query {
  events {
    id
    title
    dateTime
    description
  }
}
```

#### 5. Получить пользователя по ID
```
query {
  user(id: "68bc58ba65f4d1add65e0469") {
    id
    name
    email
  }
}
```

#### 6. Получить событие по ID
```
query {
  event(id: "ID_СОБЫТИЯ") {
    id
    title
    description
    dateTime
    createdAt
  }
}
```

#### 7. Подписаться на событие
```
mutation {
  subscribeToEvent(eventId: "ID_СОБЫТИЯ") {
    id
    subscriber {
      id
      name
    }
    event {
      id
      title
    }
  }
}
```

#### 8. Подписаться на пользователя
```
mutation {
  subscribeToUser(userId: "ID_ДРУГОГО_ПОЛЬЗОВАТЕЛЯ") {
    id
    subscriber {
      id
      name
    }
    subscribedToUser {
      id
      name
    }
  }
}
```


